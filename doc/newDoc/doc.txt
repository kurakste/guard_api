У приложения три компонента. Сервер(srv) мобильное приложение (app) и 
контрольная панель операторов. Взаимодействие происходит по протоколу 
webSoсket (библиотека socket.io). 

Формат сообщения который передается по сокетам: 
{
  token: string,
  payload: Object,
}

Токен - это зашифрованный объект пользователя. По нему сервер определяет права 
пользователя. 
Токен отправляется и в приложение и в котрольную панель после аутентификации 
пользователя и должен быть сохранен в удобным для клиента способом.
Если происходит ошибка расшифровке токена то сервер отправляет 
клиенту событие srvAuthError, payload - пустой. Клиент должен перезапустить 
процесс аутентификации и получить свежий токен. 
Причины сброса токена: Токен имеет время жизни, оно вышло. Перевыпущен ключ 
шифрования и все токены нужно перевыпустить. 

Все сообщения, у которых токены не проходят проверку дропаются на подходе и 
не пропускаются в приложение. 

Общение контрольная панель-сервер:

Входящие сообщения на контрольную панель от сервера:

  srvAuthResponse
    ответ на запрос авторизации
    payload: {
      success: true/false
      token: 
    }
    
  srvUpdateUserList: 
    На сервере обновился лист подключенных пользователей контрольной панели. 
    Будет отправляться при подключении нового пользователя к панели, что бы
    получить полный список текущих пользователей.
    payload: [ id1, id2, id3 ...]

  srvNewUserConnected:
    на сервер подключился новый пользователь контрольной панели
    payload: id
  
  srvNewUserDisconnected:
    от сервера отключился пользователь контрольной панели
    payload: id
 

  srvUpdateAlarmListAll:
    На сервере обновился общий лист тревог.
    Payload: массив объектов тревог
    комментарий: как правило будет случаться в момент подключения к серверу. Нужно 
    обновить список тревог в интерфейсе. 
  
  srvCreateNewAlarm: 
    создана новая тревога от пользователя
    payload: объект тревога
    комментарий: пользователь создал новую тревогу
 

  srvDeleteAlarm:
    Тревога закрыта оператором
    payload: объект тревога
    комментарий: будет возникать когда оператор отклонит или завершит тревогу 
  
  srvUpdateAlarm:
    Тревога изменена оператором
    payload: объект тревога
    комментарий: будет возникать когда тревога обновлена сервером 

 Исходящие сообщения на сервер от контрольной панели:
  cpAuthRequest:
    запрос нового токена:
    payload: {
      email: string,
      password: string
    }

  cpPickedUpAlarm
    Оператор взял тревогу в обработку:
    payload:  объект тревога 
  cpAlarmGbrSent: 
    Оператор отправил группу
    payload:объект тревога 
  cpAlarmClosed:
    Оператор закрыл тревогу
    payload: объект тревога 
  cpAlarmDecline
     Оператор отклонил тревогу
     payload: объект тревоги 

  
  Исходящие сообщения от приложения на сервер:

    appNewAlarm:
      Пользователь создал тревогу.
      payload: объект тревоги
    
    appNewPointInTrack:
      В терек тревоги добавлена новая точка
      payload: {
        aid: 23
        point: [23.2223, 33.3333]
      }

