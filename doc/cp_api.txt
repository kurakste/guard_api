}
===============================================================================
При запуске контрольная панель создает соединение по сокету с сервером.

Контрольная панель проходит аутентификацию на сервере. 
Если пользователь панели подтвержден - его соединение сервер сохраняет 
в массив открытых сокетов в месте с id оператора и ссылкой на сокет.
Когда соединение рвется нужно удалять из массива соединений соответсвующий элемент.
Параметром подключения к сокету является token, это зашифрованный объект пользователя.
время жизни сокета - 96 часов. После этого пользователь должен получить токен.
Если приложение получает в событии srvError код ошибки от 0-10 - это ошибки 
связанные с авторизацией. При возникновении таких ошибок приложение делает редирект
на страницу регистрации. 



Контрольная панель должна слушать сокет. 
  Приложение делает эмиссию следующих событий: 

    appNewalarm:
      params: alarm - объект тревоги
      Пользователь создал новую тревогу. 
    
    appNewPointInTrack: 
      params: alarm - текущий объект тревоги
      Эмиссия этого события происходит в приложении после нажатия тревоги 
      каждые N минут. Событие возвращает объект тревоги где в массиве track
      в конец добавлена новая координата или пустое значение (координаты перестали
      определяться).
      Приложение обновляет координаты по этой тревоге в базе данных. 
      Извлекает заново эту тревогу и проверяет текущий статус.
      Если статус новая - происходит эмиссия appNewalarm.
      Если статус 'взята в обработку, отправлен группа' - сообщение нужно 
      отправить конкретному оператору... ??? 
      Думать. Нужен справочник операторов и их сокетов.
      И что делать если изменился маршрут в алерте который на обработке, но оператор не на связи???
      Как вариант - можно создать еще одну закладку - "поетрянные тревоги"???

    
  Приложение слушает следующие события: 
    appInitStateUpdated: 
      params: appObject - объект состояния приложения, включает в себя текущее состояния счета и т.д.
      По этому событию приложение получает свое состояние с сервера.
      Сервер делает эмиссию этого события в случаях: 
        1) Подключение приложения к серверу;
        2) Биллинг в приложении - происходит каждый день. Обнуляет баланс 
        пользователя через 30 дней после внесения платежа. Приходит сообщение 
        сколько осталось дней до обнуления баланса.??? 
        3) поступление денег на счета
        4) 
    appalarmWasRegistered:
      params: alarm 
      Событие возникает в ответ на эмиссию события "newalarm", и фактически 
      является подтверждением того, что тревога была доставлена на сервер.
    appalarmWasPickedUp: 
      params: alarm
      Возникает после того, как оператор возьмет событие на обработку.
    appGbrWasSent: 
      param: 
       Возникает когда прошли все подтверждения и группа реагирования выехала.